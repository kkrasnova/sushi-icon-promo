const fs = require('fs');
const path = require('path');

// –ë–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
const adminTranslations = {
  "admin": {
    "title": "Admin Panel",
    "sync": {
      "autoSync": "üîÑ Auto-sync",
      "syncStopped": "‚è∏Ô∏è Sync stopped", 
      "syncNow": "üîÑ Sync now",
      "lastSync": "Last sync: {{time}}",
      "error": "Error loading data: {{error}}"
    },
    "stats": {
      "customers": "Customers",
      "sessions": "Sessions", 
      "successful": "Successful",
      "failed": "Failed",
      "synced": "Synced"
    },
    "filters": {
      "search": "üîç Search all data...",
      "allCountries": "All countries",
      "allStatuses": "All statuses",
      "successful": "Successful",
      "failed": "Failed",
      "clearFilters": "üóëÔ∏è Clear filters"
    },
    "tabs": {
      "customers": "üë• Customers ({{filtered}}/{{total}})",
      "sessions": "üîê Login sessions ({{filtered}}/{{total}})",
      "device": "üì± Current device",
      "broadcast": "üì¢ Broadcast", 
      "synced": "üîÑ Synced data ({{filtered}}/{{total}})"
    },
    "customers": {
      "title": "Customer list",
      "exportCsv": "üìä Export CSV",
      "exportJson": "üìÑ Export JSON",
      "table": {
        "id": "ID",
        "name": "Name",
        "phone": "Phone",
        "email": "Email",
        "country": "Country",
        "city": "City",
        "address": "Address",
        "birthDate": "Birth date",
        "preferences": "Preferences",
        "feedback": "Feedback",
        "promoCode": "Promo code",
        "registrationDate": "Registration date"
      }
    },
    "sessions": {
      "title": "Login history",
      "table": {
        "loginTime": "Login time",
        "status": "Status",
        "ipAddress": "IP address",
        "location": "Location",
        "browser": "Browser",
        "os": "OS",
        "device": "Device",
        "timezone": "Timezone",
        "isp": "ISP",
        "details": "Details"
      },
      "status": {
        "successful": "Successful",
        "failed": "Failed"
      },
      "details": {
        "title": "Details",
        "region": "Region",
        "countryCode": "Country code",
        "postal": "Postal code",
        "currency": "Currency",
        "languages": "Languages",
        "population": "Country population",
        "capital": "Capital",
        "continent": "Continent",
        "eu": "EU",
        "callingCode": "Calling code",
        "utcOffset": "UTC offset",
        "yes": "Yes",
        "no": "No"
      }
    },
    "device": {
      "title": "Current connection information",
      "location": {
        "title": "üåç Location",
        "country": "Country",
        "city": "City",
        "region": "Region",
        "address": "Address",
        "ip": "IP",
        "isp": "ISP",
        "coordinates": "Coordinates"
      },
      "device": {
        "title": "üíª Device",
        "type": "Type",
        "model": "Model",
        "browser": "Browser",
        "os": "OS"
      },
      "network": {
        "title": "üåê Network and time",
        "timezone": "Timezone",
        "utcOffset": "UTC offset",
        "countryCode": "Country code",
        "regionCode": "Region code",
        "postal": "Postal code"
      },
      "economy": {
        "title": "üí∞ Economy",
        "currency": "Currency",
        "languages": "Languages",
        "population": "Population",
        "area": "Area",
        "capital": "Capital",
        "continent": "Continent",
        "eu": "EU",
        "callingCode": "Calling code"
      }
    },
    "broadcast": {
      "title": "Message broadcast",
      "titleLabel": "Message title:",
      "titlePlaceholder": "Enter title...",
      "bodyLabel": "Message text:",
      "bodyPlaceholder": "Enter message text...",
      "sendButton": "üì¢ Send to all customers",
      "sending": "Sending...",
      "success": "Message sent successfully!",
      "error": "Error sending message"
    },
    "synced": {
      "title": "Synced form data",
      "description": "Data that users fill in the form is automatically synced every second",
      "noData": "No synced data",
      "status": {
        "draft": "Draft",
        "completed": "Completed"
      },
      "fields": {
        "phone": "Phone",
        "email": "Email",
        "country": "Country",
        "city": "City",
        "birthDate": "Birth date",
        "preferredFood": "Preferred food",
        "feedback": "Feedback"
      }
    }
  }
};

// –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —è–∑—ã–∫–æ–≤
const specialTranslations = {
  'ru.json': {
    "admin": {
      "title": "–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞",
      "sync": {
        "autoSync": "üîÑ –ê–≤—Ç–æ-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è",
        "syncStopped": "‚è∏Ô∏è –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞",
        "syncNow": "üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å",
        "lastSync": "–ü–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: {{time}}",
        "error": "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö: {{error}}"
      },
      "stats": {
        "customers": "–ö–ª–∏–µ–Ω—Ç—ã",
        "sessions": "–°–µ—Å—Å–∏–∏",
        "successful": "–£—Å–ø–µ—à–Ω—ã–µ",
        "failed": "–ù–µ—É–¥–∞—á–Ω—ã–µ",
        "synced": "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ"
      },
      "filters": {
        "search": "üîç –ü–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –¥–∞–Ω–Ω—ã–º...",
        "allCountries": "–í—Å–µ —Å—Ç—Ä–∞–Ω—ã",
        "allStatuses": "–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã",
        "successful": "–£—Å–ø–µ—à–Ω—ã–µ",
        "failed": "–ù–µ—É–¥–∞—á–Ω—ã–µ",
        "clearFilters": "üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã"
      },
      "tabs": {
        "customers": "üë• –ö–ª–∏–µ–Ω—Ç—ã ({{filtered}}/{{total}})",
        "sessions": "üîê –°–µ—Å—Å–∏–∏ –≤—Ö–æ–¥–∞ ({{filtered}}/{{total}})",
        "device": "üì± –¢–µ–∫—É—â–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ",
        "broadcast": "üì¢ –†–∞—Å—Å—ã–ª–∫–∞",
        "synced": "üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ({{filtered}}/{{total}})"
      },
      "customers": {
        "title": "–°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤",
        "exportCsv": "üìä –≠–∫—Å–ø–æ—Ä—Ç CSV",
        "exportJson": "üìÑ –≠–∫—Å–ø–æ—Ä—Ç JSON",
        "table": {
          "id": "ID",
          "name": "–ò–º—è",
          "phone": "–¢–µ–ª–µ—Ñ–æ–Ω",
          "email": "Email",
          "country": "–°—Ç—Ä–∞–Ω–∞",
          "city": "–ì–æ—Ä–æ–¥",
          "address": "–ê–¥—Ä–µ—Å",
          "birthDate": "–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è",
          "preferences": "–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è",
          "feedback": "–û—Ç–∑—ã–≤",
          "promoCode": "–ü—Ä–æ–º–æ–∫–æ–¥",
          "registrationDate": "–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏"
        }
      },
      "sessions": {
        "title": "–ò—Å—Ç–æ—Ä–∏—è –≤—Ö–æ–¥–æ–≤ –≤ —Å–∏—Å—Ç–µ–º—É",
        "table": {
          "loginTime": "–í—Ä–µ–º—è –≤—Ö–æ–¥–∞",
          "status": "–°—Ç–∞—Ç—É—Å",
          "ipAddress": "IP –∞–¥—Ä–µ—Å",
          "location": "–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ",
          "browser": "–ë—Ä–∞—É–∑–µ—Ä",
          "os": "–û–°",
          "device": "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ",
          "timezone": "–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å",
          "isp": "ISP",
          "details": "–î–µ—Ç–∞–ª–∏"
        },
        "status": {
          "successful": "–£—Å–ø–µ—à–Ω–æ",
          "failed": "–ù–µ—É–¥–∞—á–Ω–æ"
        },
        "details": {
          "title": "–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏",
          "region": "–†–µ–≥–∏–æ–Ω",
          "countryCode": "–ö–æ–¥ —Å—Ç—Ä–∞–Ω—ã",
          "postal": "–ü–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å",
          "currency": "–í–∞–ª—é—Ç–∞",
          "languages": "–Ø–∑—ã–∫–∏",
          "population": "–ù–∞—Å–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã",
          "capital": "–°—Ç–æ–ª–∏—Ü–∞",
          "continent": "–ö–æ–Ω—Ç–∏–Ω–µ–Ω—Ç",
          "eu": "–ï–°",
          "callingCode": "–¢–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –∫–æ–¥",
          "utcOffset": "UTC —Å–º–µ—â–µ–Ω–∏–µ",
          "yes": "–î–∞",
          "no": "–ù–µ—Ç"
        }
      },
      "device": {
        "title": "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏",
        "location": {
          "title": "üåç –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ",
          "country": "–°—Ç—Ä–∞–Ω–∞",
          "city": "–ì–æ—Ä–æ–¥",
          "region": "–†–µ–≥–∏–æ–Ω",
          "address": "–ê–¥—Ä–µ—Å",
          "ip": "IP",
          "isp": "ISP",
          "coordinates": "–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã"
        },
        "device": {
          "title": "üíª –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ",
          "type": "–¢–∏–ø",
          "model": "–ú–æ–¥–µ–ª—å",
          "browser": "–ë—Ä–∞—É–∑–µ—Ä",
          "os": "–û–°"
        },
        "network": {
          "title": "üåê –°–µ—Ç—å –∏ –≤—Ä–µ–º—è",
          "timezone": "–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å",
          "utcOffset": "UTC —Å–º–µ—â–µ–Ω–∏–µ",
          "countryCode": "–ö–æ–¥ —Å—Ç—Ä–∞–Ω—ã",
          "regionCode": "–ö–æ–¥ —Ä–µ–≥–∏–æ–Ω–∞",
          "postal": "–ü–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å"
        },
        "economy": {
          "title": "üí∞ –≠–∫–æ–Ω–æ–º–∏–∫–∞",
          "currency": "–í–∞–ª—é—Ç–∞",
          "languages": "–Ø–∑—ã–∫–∏",
          "population": "–ù–∞—Å–µ–ª–µ–Ω–∏–µ",
          "area": "–ü–ª–æ—â–∞–¥—å",
          "capital": "–°—Ç–æ–ª–∏—Ü–∞",
          "continent": "–ö–æ–Ω—Ç–∏–Ω–µ–Ω—Ç",
          "eu": "–ï–°",
          "callingCode": "–¢–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –∫–æ–¥"
        }
      },
      "broadcast": {
        "title": "–†–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π",
        "titleLabel": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏—è:",
        "titlePlaceholder": "–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫...",
        "bodyLabel": "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:",
        "bodyPlaceholder": "–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è...",
        "sendButton": "üì¢ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º",
        "sending": "–û—Ç–ø—Ä–∞–≤–∫–∞...",
        "success": "–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!",
        "error": "–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è"
      },
      "synced": {
        "title": "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã",
        "description": "–î–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç –≤ —Ñ–æ—Ä–º–µ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É",
        "noData": "–ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö",
        "status": {
          "draft": "–ß–µ—Ä–Ω–æ–≤–∏–∫",
          "completed": "–ó–∞–≤–µ—Ä—à–µ–Ω–æ"
        },
        "fields": {
          "phone": "–¢–µ–ª–µ—Ñ–æ–Ω",
          "email": "Email",
          "country": "–°—Ç—Ä–∞–Ω–∞",
          "city": "–ì–æ—Ä–æ–¥",
          "birthDate": "–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è",
          "preferredFood": "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º–∞—è –µ–¥–∞",
          "feedback": "–û—Ç–∑—ã–≤"
        }
      }
    }
  }
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ —Ñ–∞–π–ª
function addAdminTranslations(filePath) {
  try {
    const content = fs.readFileSync(filePath, 'utf8');
    const data = JSON.parse(content);
    
    // –ü–æ–ª—É—á–∞–µ–º –∏–º—è —Ñ–∞–π–ª–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
    const fileName = path.basename(filePath);
    
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –µ—Å–ª–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ –±–∞–∑–æ–≤—ã–µ
    const translations = specialTranslations[fileName] || adminTranslations;
    
    // –î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã
    Object.assign(data, translations);
    
    // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –æ–±—Ä–∞—Ç–Ω–æ
    fs.writeFileSync(filePath, JSON.stringify(data, null, 2) + '\n', 'utf8');
    console.log(`‚úÖ Updated ${fileName}`);
  } catch (error) {
    console.error(`‚ùå Error updating ${filePath}:`, error.message);
  }
}

// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
function main() {
  const localesDir = path.join(__dirname, 'frontend/src/i18n/locales');
  
  if (!fs.existsSync(localesDir)) {
    console.error('‚ùå Locales directory not found:', localesDir);
    return;
  }
  
  const files = fs.readdirSync(localesDir).filter(file => file.endsWith('.json'));
  
  console.log(`üîÑ Adding admin translations to ${files.length} language files...`);
  
  files.forEach(file => {
    const filePath = path.join(localesDir, file);
    addAdminTranslations(filePath);
  });
  
  console.log('‚úÖ All translations added successfully!');
}

main();
